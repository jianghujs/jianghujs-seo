{% extends 'template/layuiTemplate.html' %}

{% block title %}首页{% endblock %}

{% block content %}
<div class="jianghu-default-layout-content jianghu-body">
  <div class="jianghu-egg-intro">
    <div class="jianghu-egg-intro-wrap">
      <div class="jianghu-egg-intro-logo"><img
        src="https://zos.alipayobjects.com/rmsportal/JFKAMfmPehWfhBPdCjrw.svg"></div>
      <div class="jianghu-egg-intro-info">
        <h1>
          <$ constantUiMap.body.desc $>
          <p class="jianghu-egg-intro-info-stronge""><br/> <$ constantUiMap.body.title $></p>
        </h1>
<!--        <p class="desc">新手也容易学习和使用的企业级框架</p>-->
        <div class="jianghu-egg-intro-buttons">
          <a class="jianghu-egg-intro-button jianghu-egg-intro-button-primary"
            href="/<$ ctx.app.config.appId $>/page/article/10005">
            <$ constantUiMap.body.btnGettingStarted $>
          </a>
          <a class="jianghu-egg-intro-button jianghu-egg-intro-button-secondary" href="https://github.com/openjianghu/">GitHub</a></div>
      </div>
    </div>
  </div>
  <div class="jianghu-egg-features">
    <div class="jianghu-egg-features-wrap">
      {% for item in constantUiMap.features %}
      <div class="jianghu-egg-features-item">
        <div class="jianghu-egg-features-item-icon"><img src="<$ static $><$ item.img $>"></div>
        <h2 style="white-space: pre-line"><$ item.title $></h2>
        <p><$ item.content $></p>
      </div>
      {% endfor %}
    </div>
  </div>
  <div class="jianghu-egg-links">
    <div class="jianghu-egg-links-wrap">
      {% for item in constantUiMap.links %}
      <div class="jianghu-egg-links-item">
        <div class="ant-list">
          <div class="ant-list-header"><$ item.label $></div>
          <div class="ant-spin-nested-loading">
            <div class="ant-spin-container">
              <ul class="ant-list-items">
                {% for it in item.list %}
                <li class="ant-list-item">
                  {% if it.path.includes('http') %}
                  <a href="<$ it.path $>" target="_blank"><$ it.title $></a>
                  {% elif it.path === '' %}
                  <a href="javascript:void(0);"><$ it.title $></a>
                  {% else %}
                  <a href="/<$ ctx.app.config.appId $><$ it.path $>"><$ it.title $></a>
                  {% endif%}
                </li>
                {% endfor %}
                {% if item.img %}
                <li class="ant-list-item">
                  <img class="jianghu-egg-links-qrcode" style="background-color: #eee">
                </li>
                {% endif%}
              </ul>
            </div>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</div>
<div class="jianghu-egg-copyright"><$ constantUiMap.footer.copyright $></div>
<link href="<$ static $>/jianghu/jianghu-home.css" rel="stylesheet">

<script>
  const searchParams = new URLSearchParams(location.search.substring(1));
  const errorCode = searchParams.get('errorCode');
  const errorReason = searchParams.get('errorReason');
  if (errorCode) {
    layer.open({
      title: '错误',
      content: errorReason
    });
    // 优化点: errorReason 只展示一次
  }
</script>
{% endblock %}
